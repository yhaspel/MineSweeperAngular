<!DOCTYPE html>
<html lang="en" ng-app="mymodule">
<head>
    <meta charset="UTF-8">
    <title>Minesweeper</title>
    <link rel="stylesheet" href="bootstrap-3.3.6-dist/css/bootstrap.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/segment7" type="text/css"/>
    <style>
        .ng-cloak {
            display: none;
        }
    </style>
</head>
<body>
<h1>Minesweeper</h1>
<h4 class="author">by Yuval Haspel</h4>
<div ng-if="false">
    LOADING....
</div>


<div id="foo" class="ng-cloak">
    <div class='gamestats' ng-controller="HeaderController">
        <input type="hidden" ng-bind="changeVal()" ng-value="{{mines}}">
        <div class="mineDisplay">{{mines}}</div>
        </input>

        <button class="btn btn-default faceDisplay" ng-click="flagService.toggleDiff()">
        </button>

        <input type="hidden" ng-bind="remoteStop()" ng-value="{{counter}}">
        <div class="timeDisplay">
            {{counter}}
        </div>
        </input>
    </div>

    <div class='container' ng-controller="BoardController">
        <script type="text/ng-template" id="myModalContent.html">
            <div class="modal-header">
                <h3 class="modal-title">Game Over</h3>
            </div>
            <div class="modal-body">
                <h2>{{ messsge }}</h2>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
            </div>
        </script>

        <div class="boardRow" ng-repeat="row in board">
            <div ng-repeat="cell in row" class="cell {{cell.myClass}}" ng-click="cellClicked(cell)"
                 ng-right-click="flagToggle(cell)">{{cell.val1}}
            </div>
        </div>
        <div class="btn-group destroy" ng-hide="destroyBtn">
            <div class="btn btn-danger" ng-click="destroyTiles()">Destroy All</div>
        </div>

        <div class="difficultySettings" ng-hide="flagService.getDiff()">
            <h4>Difficulty</h4>
            <div class="btn-group">
                <div class="btn btn-default" uib-popover="Easy" popover-trigger="mouseenter"
                     ng-click="restartGame('easy')">
                    Zehava Galon
                </div>
                <div class="btn btn-default" uib-popover="Medium" popover-trigger="mouseenter"
                     ng-click="restartGame('medium')">Naftali Bennett
                </div>
                <div class="btn btn-default" uib-popover="Difficult" popover-trigger="mouseenter"
                     ng-click="restartGame('difficult')">Ada Yonat
                </div>
                <div popover-placement="{{placement.selected}}" uib-popover-template="dynamicPopover.templateUrl"
                     type="button"
                     class="btn btn-default">Make Your Own
                </div>
                <script type="text/ng-template" id="myPopoverTemplate.html">
                    <div>{{dynamicPopover.content}}</div>
                    <div class="form-group">
                        <label>Custom Board Settings</label>
                        <hr>
                        Rows: <input type="number" min="2" ng-model="dynamicPopover.rows" class="form-control">
                        Columns: <input type="number" min="2" ng-model="dynamicPopover.columns" class="form-control">
                        Mines: <input type="number" min="1" ng-model="dynamicPopover.mines" class="form-control">
                        <button type="button" ng-click="restartGame('custom')">Reload</button>
                    </div>
                </script>
            </div>
        </div>
    </div>
</div>


<script src="angular.js"></script>
<script src="angular-animate.js"></script>
<script src="ui-bootstrap-tpls-1.3.3.js"></script>
<script src="app.js"></script>
</body>
</html>